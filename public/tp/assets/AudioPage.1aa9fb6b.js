import{S as F,i as G,s as H,I as R,e as y,c as L,b as p,D as E,f as A,m as C,l as I,j as k,k as w,n as P,o as O,E as Q,t as q,a as D,d as J,g as v,F as K,h as B,B as M,G as U,r as X,H as Y,u as V,v as j,w as Z,p as T,q as $,x as z,J as x,K as ee,L as le,M as te}from"./index.c4c2aa46.js";import{L as ne}from"./Loading.21d11dd1.js";/* empty css                                              */function ie(e){let l,t,s,r,u;return t=new R({props:{name:e[0]}}),{c(){l=y("button"),L(t.$$.fragment),p(l,"class","svelte-eeon8g"),E(l,"muted",e[1])},m(n,o){A(n,l,o),C(t,l,null),s=!0,r||(u=I(l,"click",e[3]),r=!0)},p(n,[o]){const f={};o&1&&(f.name=n[0]),t.$set(f),o&2&&E(l,"muted",n[1])},i(n){s||(k(t.$$.fragment,n),s=!0)},o(n){w(t.$$.fragment,n),s=!1},d(n){n&&P(l),O(t),r=!1,u()}}}function se(e,l,t){const s=Q();let{icon:r="mic_off"}=l,{muted:u=!1}=l;const n=()=>s("mute",u);return e.$$set=o=>{"icon"in o&&t(0,r=o.icon),"muted"in o&&t(1,u=o.muted)},[r,u,s,n]}class ae extends F{constructor(l){super(),G(this,l,se,ie,H,{icon:0,muted:1})}}function ue(e){let l,t,s,r,u,n,o,f,_,m,a,c,b;return{c(){l=y("div"),t=y("label"),s=q(e[1]),r=D(),u=y("output"),n=q(e[0]),o=D(),f=q(e[4]),m=D(),a=y("input"),p(u,"class","svelte-w6gtur"),p(t,"for",e[7]),t.hidden=_=e[1]==="",p(t,"class","svelte-w6gtur"),p(a,"type","range"),p(a,"id",e[7]),p(a,"max",e[2]),p(a,"min",e[3]),a.disabled=e[5],J(a,"background",e[6]),p(a,"class","svelte-w6gtur")},m(d,i){A(d,l,i),v(l,t),v(t,s),v(t,r),v(t,u),v(u,n),v(u,o),v(u,f),v(l,m),v(l,a),K(a,e[0]),c||(b=[I(a,"change",e[10]),I(a,"input",e[10]),I(a,"input",e[9])],c=!0)},p(d,[i]){i&2&&B(s,d[1]),i&1&&B(n,d[0]),i&16&&B(f,d[4]),i&2&&_!==(_=d[1]==="")&&(t.hidden=_),i&4&&p(a,"max",d[2]),i&8&&p(a,"min",d[3]),i&32&&(a.disabled=d[5]),i&64&&J(a,"background",d[6]),i&1&&K(a,d[0])},i:M,o:M,d(d){d&&P(l),c=!1,U(b)}}}let re=0;function oe(e,l,t){let s,r;Q();let{label:u=""}=l,{value:n=50}=l,{max:o=100}=l,{min:f=0}=l,{units:_="%"}=l,{disabled:m=!1}=l,a="slider_"+re++;function c(d){X.call(this,e,d)}function b(){n=Y(this.value),t(0,n)}return e.$$set=d=>{"label"in d&&t(1,u=d.label),"value"in d&&t(0,n=d.value),"max"in d&&t(2,o=d.max),"min"in d&&t(3,f=d.min),"units"in d&&t(4,_=d.units),"disabled"in d&&t(5,m=d.disabled)},e.$$.update=()=>{e.$$.dirty&13&&t(8,s=(n-f)/(o-f)*100),e.$$.dirty&256&&t(6,r=`linear-gradient(to right, var(--color-bg-primary) 0% ${s}%, var(--color-bg-secondary) ${s}% 100%)`)},[n,u,o,f,_,m,r,a,s,c,b]}class de extends F{constructor(l){super(),G(this,l,oe,ue,H,{label:1,value:0,max:2,min:3,units:4,disabled:5})}}function W(e,l,t){const s=e.slice();return s[11]=l[t],s[12]=l,s[13]=t,s}function fe(e){let l;return{c(){l=y("div"),p(l,"class","svelte-1x62z5z")},m(t,s){A(t,l,s)},p:M,i:M,o:M,d(t){t&&P(l)}}}function ce(e){let l,t;function s(){return e[8](e[11])}return l=new ae({props:{icon:e[11].mute.icon,muted:e[11].mute.state}}),l.$on("mute",s),{c(){L(l.$$.fragment)},m(r,u){C(l,r,u),t=!0},p(r,u){e=r;const n={};u&1&&(n.icon=e[11].mute.icon),u&1&&(n.muted=e[11].mute.state),l.$set(n)},i(r){t||(k(l.$$.fragment,r),t=!0)},o(r){w(l.$$.fragment,r),t=!1},d(r){O(l,r)}}}function _e(e){let l,t=(e[3]?`${e[11].label} [${e[11].id}]`:e[11].label)+"",s;return{c(){l=y("p"),s=q(t)},m(r,u){A(r,l,u),v(l,s)},p(r,u){u&1&&t!==(t=(r[3]?`${r[11].label} [${r[11].id}]`:r[11].label)+"")&&B(s,t)},i:M,o:M,d(r){r&&P(l)}}}function me(e){let l,t,s;function r(o){e[9](o,e[11])}function u(){return e[10](e[11])}let n={label:e[3]?`${e[11].label} [${e[11].id}]`:e[11].label,max:e[11].slider.max,min:e[11].slider.min,units:e[11].slider.units,disabled:e[11].slider.disabled};return e[11].slider.value!==void 0&&(n.value=e[11].slider.value),l=new de({props:n}),ee.push(()=>le(l,"value",r)),l.$on("input",u),{c(){L(l.$$.fragment)},m(o,f){C(l,o,f),s=!0},p(o,f){e=o;const _={};f&1&&(_.label=e[3]?`${e[11].label} [${e[11].id}]`:e[11].label),f&1&&(_.max=e[11].slider.max),f&1&&(_.min=e[11].slider.min),f&1&&(_.units=e[11].slider.units),f&1&&(_.disabled=e[11].slider.disabled),!t&&f&1&&(t=!0,_.value=e[11].slider.value,te(()=>t=!1)),l.$set(_)},i(o){s||(k(l.$$.fragment,o),s=!0)},o(o){w(l.$$.fragment,o),s=!1},d(o){O(l,o)}}}function N(e){let l,t,s,r,u,n,o,f;const _=[ce,fe],m=[];function a(i,g){return i[11].mute.show?0:1}t=a(e),s=m[t]=_[t](e);const c=[me,_e],b=[];function d(i,g){return i[11].slider.show?0:1}return u=d(e),n=b[u]=c[u](e),{c(){l=y("div"),s.c(),r=D(),n.c(),o=D(),p(l,"class","svelte-1x62z5z"),E(l,"muteOnly",!e[11].slider.show)},m(i,g){A(i,l,g),m[t].m(l,null),v(l,r),b[u].m(l,null),v(l,o),f=!0},p(i,g){let h=t;t=a(i),t===h?m[t].p(i,g):(V(),w(m[h],1,1,()=>{m[h]=null}),j(),s=m[t],s?s.p(i,g):(s=m[t]=_[t](i),s.c()),k(s,1),s.m(l,r));let S=u;u=d(i),u===S?b[u].p(i,g):(V(),w(b[S],1,1,()=>{b[S]=null}),j(),n=b[u],n?n.p(i,g):(n=b[u]=c[u](i),n.c()),k(n,1),n.m(l,o)),g&1&&E(l,"muteOnly",!i[11].slider.show)},i(i){f||(k(s),k(n),f=!0)},o(i){w(s),w(n),f=!1},d(i){i&&P(l),m[t].d(),b[u].d()}}}function be(e){var f,_,m;let l,t,s,r;l=new ne({props:{show:!((f=e[2].subscriptions[e[6]])!=null&&f.ready)&&((m=(_=e[1].config)==null?void 0:_.server)==null?void 0:m.online)}});let u=e[0],n=[];for(let a=0;a<u.length;a+=1)n[a]=N(W(e,u,a));const o=a=>w(n[a],1,1,()=>{n[a]=null});return{c(){L(l.$$.fragment),t=D(),s=y("section");for(let a=0;a<n.length;a+=1)n[a].c();p(s,"class","svelte-1x62z5z")},m(a,c){C(l,a,c),A(a,t,c),A(a,s,c);for(let b=0;b<n.length;b+=1)n[b].m(s,null);r=!0},p(a,[c]){var d,i,g;const b={};if(c&6&&(b.show=!((d=a[2].subscriptions[a[6]])!=null&&d.ready)&&((g=(i=a[1].config)==null?void 0:i.server)==null?void 0:g.online)),l.$set(b),c&57){u=a[0];let h;for(h=0;h<u.length;h+=1){const S=W(a,u,h);n[h]?(n[h].p(S,c),k(n[h],1)):(n[h]=N(S),n[h].c(),k(n[h],1),n[h].m(s,null))}for(V(),h=u.length;h<n.length;h+=1)o(h);j()}},i(a){if(!r){k(l.$$.fragment,a);for(let c=0;c<u.length;c+=1)k(n[c]);r=!0}},o(a){w(l.$$.fragment,a),n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)w(n[c]);r=!1},d(a){O(l,a),a&&P(t),a&&P(s),Z(n,a)}}}function ge(e,l,t){var d;let s,r;T(e,$,i=>t(1,s=i)),T(e,z,i=>t(2,r=i));let{config:u={name:"Audio",file:"AudioPage",simplSubscriptionID:"AudioPage",volumes:[{id:1,label:"Video",type:"slider",iconMic:!1,value:0,max:6,min:-24,units:"dB"},{id:2,label:"TV",type:"slider",iconMic:!1,value:5,max:10,min:0,units:"/ 10"},{id:3,label:"Wireless Microphone",type:"slider",value:75,iconMic:!0},{id:4,label:"Privacy",iconMic:!0,type:"mute"}]}}=l,n=s.url.search.edit==="true",o=u.volumes;function f(i){i.mute.state=!i.mute.state,z.debug(`Audio id ${i.id} "${i.label}" mute press`),z.digitalPulse(m,i.id),t(0,o)}const _=x(i=>{z.debug(`Audio id ${i.id} "${i.label}" set to ${i.slider.value}${i.slider.units}`),z.analog(m,i.id,i.slider.value)},100);let m=(d=u.simplSubscriptionID)!=null?d:u.file;z.addSubscription(m,i=>{o.forEach(g=>{g.mute.state=i.digital[g.id],g.slider.value=i.analog[g.id]}),t(0,o)});const a=i=>f(i);function c(i,g){e.$$.not_equal(g.slider.value,i)&&(g.slider.value=i,t(0,o))}const b=i=>_(i);return e.$$set=i=>{"config"in i&&t(7,u=i.config)},e.$$.update=()=>{e.$$.dirty&128&&console.log("AudioPage config",u)},[o,s,r,n,f,_,m,u,a,c,b]}class ke extends F{constructor(l){super(),G(this,l,ge,be,H,{config:7})}}export{ke as default};
